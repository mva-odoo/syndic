<?xml version="1.0" encoding="utf-8"?>
<openerp>
	<data>

		<!--search -->
		<record model="ir.ui.view" id="search_simpl_building">
			<field name="name">Letter search</field>
			<field name="model">syndic.building</field>
			<field name="type">search</field>
			<field name="arch" type="xml">
				<search string="simpl_building">
                    <field name="name"/>
                    <field name="BCE"/>
                    <field name="num_building"/>
                    <field name="address_building"/>
                    <field name="zip_building"/>
                    <field name="city_building"/>
                    <field name="manager_id"/>
                    <filter name="old_building" string="Anciens batiments" domain="[('active', '=', False)]"/>
				</search>
			</field>
		</record>
        
		<!--tree view -->
		<record model="ir.ui.view" id="tree_simpl_building">
			<field name="name">Letter tree view</field>
			<field name="model">syndic.building</field>
			<field name="type">tree</field>
			<field name="arch" type="xml">
				<tree string="Immeubles">
					<field name="num_building"/>
					<field name="name" />
					<field name="address_building" />
					<field name="city_building" />
					<field name="zip_building" />
					<field name="BCE"/>
					<field name="honoraire" groups="syndic_management.syndic_manager"/>
				</tree>
			</field>
		</record>


		<!--form -->
		<record model="ir.ui.view" id="form_simpl_building">
			<field name="name">Letter form view</field>
			<field name="model">syndic.building</field>
			<field name="type">form</field>
			<field name="arch" type="xml">
				<form string="immeuble" layout="manual" version="7.0">
					<header>
						<button string="Désactiver Immeuble"
								type="object"
								name="unactivate_building"
								attrs="{'invisible':[('active','=', False)]}"/>
						<button string="Activer Immeuble"
								type="object"
								name="activate_building"
								attrs="{'invisible':[('active','=', True)]}"/>
					</header>

					<h1>
						<field name="num_building" class="oe_inline" placeholder="Numéros d'immeuble"/> -
						<field name="name" class="oe_inline" placeholder="Nom d'immeuble"/>
					</h1>


					<group string="Adresse:">
						<field name="zip_building"/>
						<field name="city_building" context="{'default_zip': zip_building}"/>
						<field name="address_building"/>
					</group>
					<group>
						<group string="Information Divers:">
							<field name="compte"/>
							<field name="BCE"/>
							<field name="manager_id" options="{'no_create': True, 'no_edit': True}"/>
							<field name="active" invisible="1"/>
						</group>
						<group string="Date de l'Assemblée Générale">
							<field name="sign_mois_rel"/>
							<field name="sign_quizaine_rel"/>
						</group>
					</group>

						<notebook colspan="4">
							<page string="Lot" name="lot">
								<field name="lot_ids" nolabel="1" colspan="4">
									<tree string="Lot" editable="bottom">
										<field name="name"/>
										<field name="proprio_id" widget="many2many_tags"/>
										<field name="locataire_id" widget="many2many_tags"/>
										<field name="quotities" sum="Sommes des quotities"/>
										<field name="type_id"/>
									</tree>
									<form string="Lot">
										<field name="name"/>
										<field name="proprio_id" widget="many2many_tags"/>
										<field name="locataire_id" widget="many2many_tags"/>
										<field name="quotities"/>
										<field name="type_id"/>
									</form>
								</field>
								<field name="total_quotites"/>
							</page>
							<page string="Fiche technique" name="fiche_technique">
								<button name="open_sign"
										string="Consulter la fiche signalétique"
										type="object"/>

								<button name="go_export_model" string="Exporter fiche technique" type="object"/>
								<field name="supplier_ids"/>
							</page>
							<page string="Notes" name="notes">
								<field name="note"/>
							</page>
							<page string="Accès" name="acces">
								<group>
									<field name="password"/>
								</group>
							</page>

							<page string="Honoraires" name="honoraires" groups="syndic_management.syndic_manager">
								<group>
									<field name="honoraire"/>
									<field name="frais_admin"/>
								</group>
							</page>
						</notebook>
                </form>
			</field>
		</record>
		
		<record model="ir.ui.view" id="form_wizard_fiche_technique">
			<field name="name">Wizard fiche technique</field>
			<field name="model">export.fiche.tech</field>
			<field name="arch" type="xml">
				<form string="Fiche technique">
					<group>
						<field name="xls_file" filename="datas_fname"/>
						<field name="datas_fname" invisible="1"/>
					</group>
                </form>
			</field>
		</record>

		<!--action -->
		<record model="ir.actions.act_window" id="action_simpl_building">
			<field name="name">Immeubles</field>
			<field name="type">ir.actions.act_window</field>
			<field name="res_model">syndic.building</field>
			<field name="view_type">form</field>
			<field name="view_mode">tree,form</field>
			<field name="view_id" ref="tree_simpl_building" />
			<field name="search_view_id" ref="search_simpl_building" />
		</record>



	</data>
</openerp>
