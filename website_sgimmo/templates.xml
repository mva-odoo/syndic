<?xml version="1.0" encoding="utf-8"?>
<openerp>
    <data>
       <template id="index">
           <t t-call="website.layout">

               <style>
table, th, td {
    border: 1px solid black;
    border-collapse: collapse;
}
th, td {
    padding: 5px;
    text-align: left;
}
</style>
    <div id="wrap" class="oe_structure oe_empty">
      <section class="mt0 oe_dark para_large mb0">
        <div class="container">
          <div class="row">
            <div class="col-md-12 text-center mt0 mb32">
                <div class="col-md-12 text-center mt0 mb16 filter_sgimmo">
                    <form action="/documents" method="post" class="form-horizontal mt32" enctype="multipart/form-data">
                        <div class="col-md-5 text-center mt16 mb16">
                            <select name="immeubles" class="form-control">
                                <option t-attf-value="0">Immeubles</option>
                                <t t-foreach="immeubles" t-as="immeuble">
                                    <option t-attf-value="#{immeuble.id}"><t t-esc="immeuble.name"/></option>
                                </t>
                            </select>
                        </div>
                        <div class="col-md-5 text-center mt16 mb16">
                        <select name="types" class="form-control">
                            <option t-attf-value="0">type de documents</option>
                            <t t-foreach="types" t-as="type">
                                <option t-attf-value="#{type.id}"><t t-esc="type.name"/></option>
                            </t>
                        </select>
                        </div>
                        <div class="col-md-2 text-center mt16 mb16">
                            <button class="btn">Filtrer</button>
                        </div>

                    </form>

                </div>
                <table width="100%">
                   <tr style="background-color:#1995dc;color: white;border: 1px solid black;">
                       <td>Nom du fichier</td>
                       <td>Immeuble</td>
                       <td>type de fichier</td>
                       <td></td>
                   </tr>
                   <t t-foreach="documents" t-as="document">
                       <tr style="background-color: #eee;border: 1px solid black;">
                           <td><t t-esc="document.nom_document"/></td>
                           <td><t t-esc="document.immeuble_id.name"/></td>
                           <td><t t-esc="document.type_id.name"/></td>
                           <td><a t-attf-href="/web/binary/saveas?model=syndic.documents&amp;field=document&amp;filename_field=datas_fname&amp;id=#{document.id}">Télécharger</a></td>
                       </tr>
                   </t>
               </table>
            </div>
           </div>
        </div>
      </section>
    </div>
  </t>
       </template>





<record id="docment_menu_sgimmo" model="website.menu">
    <field name="name">Mes documents</field>
    <field name="url">/documents/</field>
    <field name="parent_id" ref="website.main_menu"/>
    <field name="sequence" type="int">20</field>
</record>
    </data>
</openerp>
